{
  "name": "GST Query Processor",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "gst-query",
        "responseMode": "responseNode"
      },
      "id": "webhook-trigger",
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "position": [240, 300]
    },
    {
      "parameters": {
        "url": "http://localhost:11434/api/generate",
        "options": {
          "timeout": 30000
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "qwen2.5:1.5b"
            },
            {
              "name": "prompt",
              "value": "={{`You are an expert GST consultant in India with deep knowledge of CGST Act 2017, GST Rules, and all related notifications. 

Query: ${$json.body.query}

Provide a comprehensive answer including:
1. Direct answer to the question
2. Relevant CGST Act sections or rule references
3. Current applicable rates or procedures
4. Any recent updates or notifications

Keep the response accurate, professional, and cite specific legal provisions where applicable.`}}"
            },
            {
              "name": "stream",
              "value": false
            },
            {
              "name": "options",
              "value": {
                "temperature": 0.7,
                "max_tokens": 800
              }
            }
          ]
        }
      },
      "id": "ollama-request",
      "name": "Query Ollama",
      "type": "n8n-nodes-base.httpRequest",
      "position": [460, 300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ { answer: $json.response, source: 'Local Ollama + Qwen2.5', timestamp: new Date().toISOString(), model: 'qwen2.5:1.5b' } }}"
      },
      "id": "respond-to-webhook",
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [680, 300]
    }
  ],
  "connections": {
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Query Ollama",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Query Ollama": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}
